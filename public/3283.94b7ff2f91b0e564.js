"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3283],{7464:(R,L,u)=>{u.d(L,{E_:()=>V,F3:()=>B,Ii:()=>x});var i=u(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var p=function(t){return t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE",t}(p||{});class C extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const M=t=>{var e,n,r,o,a;const d=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},y=s.Plugins=s.Plugins||{},h=t.CapacitorPlatforms,G=(null===(e=null==h?void 0:h.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==d?d.name:(t=>{var e,n;return null!=t&&t.androidBridge?"android":null!==(n=null===(e=null==t?void 0:t.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(t)),ue=(null===(n=null==h?void 0:h.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==G()),fe=(null===(r=null==h?void 0:h.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(g=>{const v=q.get(g);return!!(null!=v&&v.platforms.has(G())||re(g))}),re=(null===(o=null==h?void 0:h.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(g=>{var v;return null===(v=s.PluginHeaders)||void 0===v?void 0:v.find(j=>j.name===g)}),q=new Map,ve=(null===(a=null==h?void 0:h.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((g,v={})=>{const j=q.get(g);if(j)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),j.proxy;const W=G(),H=re(g);let D;const Pe=function(){var P=(0,i.A)(function*(){return!D&&W in v?D=D="function"==typeof v[W]?yield v[W]():v[W]:null!==d&&!D&&"web"in v&&(D=D="function"==typeof v.web?yield v.web():v.web),D});return function(){return P.apply(this,arguments)}}(),ee=P=>{let b;const S=(...T)=>{const k=Pe().then($=>{const _=((P,b)=>{var S,T;if(!H){if(P)return null===(T=P[b])||void 0===T?void 0:T.bind(P);throw new C(`"${g}" plugin is not implemented on ${W}`,p.Unimplemented)}{const k=null==H?void 0:H.methods.find($=>b===$.name);if(k)return"promise"===k.rtype?$=>s.nativePromise(g,b.toString(),$):($,_)=>s.nativeCallback(g,b.toString(),$,_);if(P)return null===(S=P[b])||void 0===S?void 0:S.bind(P)}})($,P);if(_){const J=_(...T);return b=null==J?void 0:J.remove,J}throw new C(`"${g}.${P}()" is not implemented on ${W}`,p.Unimplemented)});return"addListener"===P&&(k.remove=(0,i.A)(function*(){return b()})),k};return S.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(S,"name",{value:P,writable:!1,configurable:!1}),S},oe=ee("addListener"),ie=ee("removeListener"),be=(P,b)=>{const S=oe({eventName:P},b),T=function(){var $=(0,i.A)(function*(){const _=yield S;ie({eventName:P,callbackId:_},b)});return function(){return $.apply(this,arguments)}}(),k=new Promise($=>S.then(()=>$({remove:T})));return k.remove=(0,i.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),k},te=new Proxy({},{get(P,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return H?be:oe;case"removeListener":return ie;default:return ee(b)}}});return y[g]=te,q.set(g,{name:g,proxy:te,platforms:new Set([...Object.keys(v),...H?[W]:[]])}),te});return s.convertFileSrc||(s.convertFileSrc=g=>g),s.getPlatform=G,s.handleError=g=>t.console.error(g),s.isNativePlatform=ue,s.isPluginAvailable=fe,s.pluginMethodNoop=(g,v,j)=>Promise.reject(`${j} does not have an implementation of "${v}".`),s.registerPlugin=ve,s.Exception=C,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},x=(t=>t.Capacitor=M(t))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),B=x.registerPlugin;class V{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var r=this;let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(n);const d=this.windowListeners[e];d&&!d.registered&&this.addWindowListener(d),o&&this.sendRetainedArgumentsForEvent(e);const s=function(){var h=(0,i.A)(function*(){return r.removeListener(e,n)});return function(){return h.apply(this,arguments)}}();return Promise.resolve({remove:s})}removeAllListeners(){var e=this;return(0,i.A)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n,r){const o=this.listeners[e];if(o)o.forEach(a=>a(n));else if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(n),this.retainedEventArguments[e]=a}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new x.Exception(e,p.Unimplemented)}unavailable(e="not available"){return new x.Exception(e,p.Unavailable)}removeListener(e,n){var r=this;return(0,i.A)(function*(){const o=r.listeners[e];if(!o)return;const a=o.indexOf(n);r.listeners[e].splice(a,1),r.listeners[e].length||r.removeWindowListener(r.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const I=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),F=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class z extends V{getCookies(){return(0,i.A)(function*(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[o,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=F(o).trim(),a=F(a).trim(),n[o]=a}),n})()}setCookie(e){return(0,i.A)(function*(){try{const n=I(e.key),r=I(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),d=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${o}; path=${a}; ${d};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,i.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,i.A)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,i.A)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}B("CapacitorCookies",{web:()=>new z});const Y=function(){var t=(0,i.A)(function*(e){return new Promise((n,r)=>{const o=new FileReader;o.onload=()=>{const a=o.result;n(a.indexOf(",")>=0?a.split(",")[1]:a)},o.onerror=a=>r(a),o.readAsDataURL(e)})});return function(n){return t.apply(this,arguments)}}();class c extends V{request(e){return(0,i.A)(function*(){const n=((t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),o=((t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,a,d)=>(o[a]=t[e[d]],o),{})})(t.headers)["content-type"]||"";if("string"==typeof t.data)n.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[d,s]of Object.entries(t.data||{}))a.set(d,s);n.body=a.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((s,y)=>{a.append(y,s)});else for(const s of Object.keys(t.data))a.append(s,t.data[s]);n.body=a;const d=new Headers(n.headers);d.delete("content-type"),n.headers=d}else(o.includes("application/json")||"object"==typeof t.data)&&(n.body=JSON.stringify(t.data));return n})(e,e.webFetchExtra),r=((t,e=!0)=>t?Object.entries(t).reduce((r,o)=>{const[a,d]=o;let s,y;return Array.isArray(d)?(y="",d.forEach(h=>{s=e?encodeURIComponent(h):h,y+=`${a}=${s}&`}),y.slice(0,-1)):(s=e?encodeURIComponent(d):d,y=`${a}=${s}`),`${r}&${y}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=r?`${e.url}?${r}`:e.url,a=yield fetch(o,n),d=a.headers.get("content-type")||"";let y,h,{responseType:s="text"}=a.ok?e:{};switch(d.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":h=yield a.blob(),y=yield Y(h);break;case"json":y=yield a.json();break;default:y=yield a.text()}const K={};return a.headers.forEach((G,Z)=>{K[Z]=G}),{data:y,headers:K,status:a.status,url:a.url}})()}get(e){var n=this;return(0,i.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,i.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,i.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,i.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,i.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}B("CapacitorHttp",{web:()=>new c})},7762:(R,L,u)=>{u.d(L,{L:()=>A});const A=(0,u(7464).F3)("Geolocation",{web:()=>u.e(2920).then(u.bind(u,2920)).then(w=>new w.GeolocationWeb)})},9182:(R,L,u)=>{u.d(L,{_n:()=>A,kn:()=>i});var i=function(f){return f.Heavy="HEAVY",f.Medium="MEDIUM",f.Light="LIGHT",f}(i||{}),A=function(f){return f.Success="SUCCESS",f.Warning="WARNING",f.Error="ERROR",f}(A||{})},1307:(R,L,u)=>{u.d(L,{S:()=>f});var i=u(177),A=u(4341),w=u(4742),U=u(4438);let f=(()=>{var m;class O{}return(m=O).\u0275fac=function(C){return new(C||m)},m.\u0275mod=U.$C({type:m}),m.\u0275inj=U.G2t({imports:[i.MD,A.YN,w.bv]}),O})()},7907:(R,L,u)=>{u.d(L,{G:()=>U});var i=u(1626);var w=u(4438);let U=(()=>{var f;class m{gettreeingarden(p){return this.http.get(`${this.apiUrl}/treesbygardenId/${p}`)}constructor(p){this.http=p,this.apiUrl="https://pz-smartfarm.glitch.me"}getabnormalmeasurements(){return this.http.get(`${this.apiUrl}/abnormal-measurements`)}getmeasurements(p,C){let N={gardenId:p};return C&&(N.treeId=C),this.http.get(`${this.apiUrl}/measurements`,{params:N})}getData(){return this.http.get(`${this.apiUrl}/iot`)}getDatatree(){return this.http.get(`${this.apiUrl}/trees`)}getTreesNear(p,C){const N=(new i.Nl).set("latitude",p.toString()).set("longitude",C.toString());return this.http.get(`${this.apiUrl}/trees_near`,{params:N})}createTree(p){return this.http.post(`${this.apiUrl}/trees`,p)}getGardens(){return this.http.get(`${this.apiUrl}/gardens`)}createGardens(p){return this.http.post(`${this.apiUrl}/gardens`,p)}updateTreeFocus(p){return this.http.put(`${this.apiUrl}/updateTreeFocus/${p}`,{})}}return(f=m).\u0275fac=function(p){return new(p||f)(w.KVO(i.Qq))},f.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),m})()},4723:(R,L,u)=>{u.d(L,{Q:()=>Y});var i=u(467),A=u(7464);const w=(0,A.F3)("Preferences",{web:()=>u.e(2924).then(u.bind(u,2924)).then(E=>new E.PreferencesWeb)});var U=u(7762),f=u(9182);const m=(0,A.F3)("Haptics",{web:()=>u.e(3558).then(u.bind(u,3558)).then(E=>new E.HapticsWeb)}),O_UU="PzSmartFarm";var I=u(4438),F=u(4742),z=u(3656),ne=u(8986);let Y=(()=>{var E;class Q{constructor(c,l,t,e,n){var r=this;this.toastController=c,this.router=l,this.navCtrl=t,this.platform=e,this.loadingCtrl=n,this.hapticsImpactHeavy=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.impact({style:f.kn.Heavy}))}),this.hapticsImpactMedium=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.impact({style:f.kn.Medium}))}),this.hapticsImpactLight=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.impact({style:f.kn.Light}))}),this.hapticsVibrate=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.vibrate())}),this.hapticsSelectionStart=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.selectionStart())}),this.hapticsSelectionChanged=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.selectionChanged())}),this.hapticsSelectionEnd=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.selectionEnd())}),this.hapticsNotificationTypeSuccess=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.notification({type:f._n.Success}))}),this.hapticsNotificationTypeWarning=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.notification({type:f._n.Warning}))}),this.hapticsNotificationTypeError=(0,i.A)(function*(){r.isNativePlatform()&&(yield m.notification({type:f._n.Error}))})}showLoading(){var c=this;return(0,i.A)(function*(){(yield c.loadingCtrl.create({message:"Loading...",spinner:"circular"})).present()})()}closeLoading(){var c=this;return(0,i.A)(function*(){const l=yield c.loadingCtrl.getTop();null==l||l.dismiss()})()}showToast(c,l="success",t="top",e=2e3){var n=this;return(0,i.A)(function*(){(yield n.toastController.create({message:c,duration:e,color:l,position:t})).present()})()}showToastWithCloseButton(c,l="success",t=5e3){var e=this;return(0,i.A)(function*(){(yield e.toastController.create({message:c,duration:t,color:l,position:"top",buttons:["\u0e1b\u0e34\u0e14"]})).present()})()}showErrorToast(c,l=2e3){var t=this;return(0,i.A)(function*(){(yield t.toastController.create({message:c,duration:l,color:"danger",position:"top"})).present()})()}showErrorToastWithCloseButton(c,l=5e3){var t=this;return(0,i.A)(function*(){(yield t.toastController.create({message:c,duration:l,color:"danger",position:"top"})).present()})()}gotoExternalApp(c,l=""){var t=this;return(0,i.A)(function*(){let e={state:{app:{url:c,name:l}}};yield t.router.navigate(["external-apps"],e)})()}gotoPage(c){var l=this;return(0,i.A)(function*(){yield l.router.navigate([c],{state:{app:{}}})})()}gotoPageWithJson(c,l){var t=this;return(0,i.A)(function*(){let e={state:{app:l}};yield t.router.navigate([c],e)})()}goBack(){var c=this;return(0,i.A)(function*(){c.navCtrl.back()})()}getCameraQuality(){var c=this;return(0,i.A)(function*(){let l=yield c.getPreferences("cameraQuality");return l?parseInt(l):50})()}getCurrentGeoLocation(){var c=this;return(0,i.A)(function*(){var l,t,e,n,r;let o=yield U.L.getCurrentPosition();return c.setPreferences("GeoAccuracy",null==o?void 0:o.coords.accuracy.toString()),c.setPreferences("GeoAltitude",null==o||null===(l=o.coords.altitude)||void 0===l?void 0:l.toString()),c.setPreferences("GeoaLtitudeAccuracy",null==o||null===(t=o.coords.altitudeAccuracy)||void 0===t?void 0:t.toString()),c.setPreferences("GeoHeading",null==o||null===(e=o.coords.heading)||void 0===e?void 0:e.toString()),c.setPreferences("GeoSpeed",null==o||null===(n=o.coords.speed)||void 0===n?void 0:n.toString()),c.setPreferences("GeoTimestamp",null==o||null===(r=o.timestamp)||void 0===r?void 0:r.toString()),o})()}getGeoLocationDistance(c,l,t,e,n="K"){return(0,i.A)(function*(){if(c==t&&l==e)return 0;var r=Math.PI*c/180,o=Math.PI*t/180,d=Math.PI*(l-e)/180,s=Math.sin(r)*Math.sin(o)+Math.cos(r)*Math.cos(o)*Math.cos(d);return s>1&&(s=1),s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515,"K"==n&&(s*=1.609344),"N"==n&&(s*=.8684),s})()}isNativePlatform(){return!!A.Ii.isNativePlatform()}replaceImageForIOS(c){return(c=(c=c.replace("\\\\","/")).replace("\\","/")).replace("\\","/")}getPreferences(c){return(0,i.A)(function*(){var l;let t=O_UU;return null===(l=yield w.get({key:`${t}${c}`}))||void 0===l?void 0:l.value})()}removePreferences(c){return(0,i.A)(function*(){w.remove({key:`${O_UU}${c}`})})()}setPreferences(c,l){return(0,i.A)(function*(){let t=l;"string"!=typeof l&&(t=null==l?void 0:l.toString()),w.set({key:`${O_UU}${c}`,value:t})})()}}return(E=Q).\u0275fac=function(c){return new(c||E)(I.KVO(F.K_),I.KVO(ne.Ix),I.KVO(z.q9),I.KVO(z.OD),I.KVO(F.Xi))},E.\u0275prov=I.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),Q})()}}]);